<main class="content">
    <div *ngIf="loading" class="loader"></div>
    <h1 class="title">Trainer Information</h1>
    <div class="trainer-info">
        <div *ngIf="!loading" class="trainer-info-img-container">
            <img *ngIf="trainer.photoURL != null" class="trainer-info-img-container-img" [src]="trainer.photoURL" alt="Trainer Image">
            <img *ngIf="trainer.photoURL == null" class="trainer-info-img-container-img" src="https://firebasestorage.googleapis.com/v0/b/fitverum.appspot.com/o/default-user.png?alt=media&token=5974ac39-112f-4bd1-a170-d2a23c392d95" alt="User Image">
        </div>
        <div *ngIf="!loading" class="trainer-info-container">
            <h1 class="trainer-info-container-name">{{trainer.displayName}}</h1>
            <p class="trainer-info-container-email">{{trainer.email}}</p>
            <p class="trainer-info-container-membership">Member since {{membership | date: 'longDate'}}</p>
        </div>
    </div>
    <h2 *ngIf="!loading && !this.auth.thirdPartyLogin" class="change-data-title">Change Trainer Data</h2>
    <form *ngIf="!loading && !this.auth.thirdPartyLogin" class="change-data">
        <div class="change-data-password">
            <input type="password" class="change-data-password-input" placeholder="New Password" name="newPassword" [(ngModel)]="newPassword" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,32}$">
            <input type="password" class="change-data-password-input" placeholder="Confirm New Password" name="confirmNewPassword" [(ngModel)]="confirmNewPassword" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,32}$">
        </div>
        <div class="change-data-name">
            <input type="email" class="change-data-name-input" placeholder="New Email" name="newEmail" [(ngModel)]="newEmail">
            <input type="text" class="change-data-name-input" placeholder="New Display Name" name="newDisplayName" [(ngModel)]="newDisplayName">
        </div>
        <label for="Profile picture" class="change-data-img">
            <label class="change-data-img-label" for="Profile picture">{{uploadMessage}}</label>
            <img *ngIf="!uploaded" class="change-data-img-add-img" src="../../../../../assets/images/add.png">
            <img *ngIf="uploaded" class="change-data-img-uploaded-img" [src]="uploadedPhotoURL">
        </label>
        <input class="change-data-img-input" type="file" id="Profile picture" name="Profile picture" accept="image/*" (change)="uploadFile($event)">
        <button *ngIf="!loading" class="change-data-btn" (click)="changeData()">Change Data</button>
    </form>

    <p *ngIf="errorMessage != ''" class="error-message">{{errorMessage}}</p>
    <p *ngIf="success" class="success-message">{{successMessage}}</p>
    <h3 *ngIf="!loading && this.auth.thirdPartyLogin" class="thirdPartyLoginMessage">You logged with a third party service, so you can't change your account information</h3>
    <!-- <h3 class="thirdPartyLoginMessage">You logged with a 3rd party service, so you can't change your account information</h3> -->
</main>
